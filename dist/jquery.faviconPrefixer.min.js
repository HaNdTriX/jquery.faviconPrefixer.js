/*
 *  jQuery faviconPrefixer - v0.0.1
 *  Puts a favicon next to each link.
 *  http://jqueryboilerplate.com
 *
 *  Made by Henrik Wenz
 *  Under MIT License
 */
!function(a){function b(b,e){this.element=b,this.$element=a(b),this.$anchors=this.$element.find("a"),this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="faviconPrefixer",d={apiURL:"http://favicon.yandex.net/favicon/",linkFilter:function(a){var b=a.host;if(b&&""!==b)return b},paddingLeft:"20px"};b.prototype={init:function(){this.findUrls(),this.createSpriteUrl(),this.setFavicons(),console.log("urls",this.urls),console.log(this.urlMap)},findUrls:function(){this.urls=a.map(this.$anchors,this.options.linkFilter),this.urls=a.unique(this.urls)},createSpriteUrl:function(){this.spriteUrl=this.options.apiURL+this.urls.join("/")},getFaviconSpriteOffset:function(a){var b=this.options.linkFilter(a),c=this.urls.indexOf(b);return-1===c?"16px":"-"+16*c+"px"},setFavicons:function(){var b=this;a.each(this.$anchors,function(c,d){var e=b.getFaviconSpriteOffset(d);a(d).css({backgroundImage:"url("+b.spriteUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"0 "+e,paddingLeft:b.options.paddingLeft})})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);